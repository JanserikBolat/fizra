(function(t){function e(e){for(var s,r,o=e[0],c=e[1],l=e[2],f=0,u=[];f<o.length;f++)r=o[f],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&u.push(n[r][0]),n[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(e);while(u.length)u.shift()();return a.push.apply(a,l||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],s=!0,o=1;o<i.length;o++){var c=i[o];0!==n[c]&&(s=!1)}s&&(a.splice(e--,1),t=r(r.s=i[0]))}return t}var s={},n={app:0},a=[];function r(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=s,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(i,s,function(e){return t[e]}.bind(null,s));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/fizra/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var d=c;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";i("85ec")},1109:function(t,e,i){"use strict";i("df84")},2574:function(t,e,i){},"25d1":function(t,e,i){},"2a13":function(t,e,i){"use strict";i("97fd")},"32ff":function(t,e,i){"use strict";i("d870")},3306:function(t,e,i){},4268:function(t,e,i){},4480:function(t,e,i){},"48fd":function(t,e,i){"use strict";i("ae3f")},"4acc":function(t,e,i){},"4dbd":function(t,e,i){},5338:function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var s=i("2b0e"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},a=[],r={name:"App"},o=r,c=(i("034f"),i("2877")),l=Object(c["a"])(o,n,a,!1,null,null,null),d=l.exports,f=i("5530"),u=i("8c4f"),_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"register__wrapper"},[i("order-header",{scopedSlots:t._u([{key:"newUser",fn:function(){return[i("p",{staticClass:"new__order"},[t._v("Новый клиент")]),i("div",{staticClass:"close__order",on:{click:function(e){return t.goBack()}}},[i("i",{staticClass:"fa fa-times-circle",attrs:{"aria-hidden":"true"}})])]},proxy:!0}])}),i("search-user",{attrs:{info:t.info,disabled:!0}})],1)},h=[],p=(i("b64b"),i("ac1f"),i("1276"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header"},[i("div",{staticClass:"header__inner"},[i("div",{staticClass:"header__top"},[t._t("orderHeader"),t._t("newUser")],2),t._t("headerBottom")],2)])}),v=[],m={methods:{goBack:function(){this.$router.go(-1)}}},b=m,y=(i("ab65"),Object(c["a"])(b,p,v,!1,null,"7574b3ba",null)),C=y.exports,g=i("b5ae"),k=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"search__user"},[i("div",{staticClass:"searchUser__inner"},[i("div",{staticClass:"search__input"},[i("label",{staticClass:"phone__label",attrs:{for:"phone"}},[t._v("Номер телефона")]),i("br"),i("div",{staticClass:"search__wrapper"},[i("p",{staticClass:"tel__code",class:{disabledPhone:t.disabled}},[t._v("+7")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],class:t.$v.search.$error&&!t.disabled?"invalid":"",attrs:{type:"tel",id:"phone",name:"phone",title:"Ваш телефонный номер",maxlength:"10",disabled:t.disabled},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})])]),i("button",{on:{click:function(e){return t.searchNumber()}}},[t._v("Продолжить")])]),t.filteredResult.length?i("UserInfo",{attrs:{info:t.filteredResult}}):t._e()],1)},O=[],I=i("1da1"),x=(i("4de4"),i("841c"),i("96cf"),i("1052")),D=i.n(x),w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._l(t.info,(function(e){return i("div",{key:e.id,staticClass:"user__info"},[i("div",{staticClass:"name__surname"},[i("h5",[t._v(t._s(e.first_name))]),i("h5",[t._v(t._s(e.last_name))])]),i("div",{staticClass:"user__photo"},[i("img",{attrs:{src:e.avatar,alt:"Photo"}})])])})),0)},T=[],j={props:["info"],data:function(){return{photo:this.info.avatar}}},M=j,S=(i("9aa9"),Object(c["a"])(M,w,T,!1,null,"2358e37a",null)),$=S.exports,P={props:["info","disabled"],data:function(){return{data:[],filteredResult:[],search:""}},validations:{search:{required:g["required"],minLength:Object(g["minLength"])(10),maxLength:Object(g["maxLength"])(10)}},components:{UserInfo:$},created:function(){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function e(){var i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("https://random-data-api.com//api/users/random_user?size=15");case 2:i=e.sent,s=i.data,t.data=s;case 5:case"end":return e.stop()}}),e)})))()},methods:{searchNumber:function(){var t=this;this.$v.$invalid?this.$v.$touch():(this.filteredResult=this.data.filter((function(e){return e.phone_number===t.search})),0===this.filteredResult.length&&this.$router.push({name:"registerUser",params:{info:Object(f["a"])(Object(f["a"])({},this.info),{},{telephoneNumber:this.search})}}))}}},A=P,N=(i("32ff"),Object(c["a"])(A,k,O,!1,null,"003dff59",null)),E=N.exports,L={props:["info"],components:{OrderHeader:C,SearchUser:E},data:function(){return{lastName:"",firstName:"",tel:this.info.telephoneNumber,isPopupOpen:!1,confirmation:""}},validations:{lastName:{required:g["required"],minLength:Object(g["minLength"])(1)},firstName:{required:g["required"],minLength:Object(g["minLength"])(1)},tel:{required:g["required"],minLength:Object(g["minLength"])(10),maxLength:Object(g["maxLength"])(10)}},CONFIRMATION_CODE:"5555",computed:{isConfirmationCorrect:function(){return 4===this.confirmation.length}},methods:{openPopup:function(){this.$v.$invalid?this.$v.$touch():(this.confirmation="",this.isPopupOpen=!0)},popupConfirmed:function(){var t=Object.keys(JSON.parse(localStorage.getItem("orderInfo"))).length+1,e=this.info.date.format("DD-MM-YYYY"),i=this.info.time.split("-")[0],s=this.info.time.split("-")[1],n={orderId:t,bookings:{booking1:{date:e,start_time:i,end_time:s,field_id:this.info.field}},client:{client_name:this.firstName,client_surname:this.lastName,client_tel:"8".concat(this.info.telephoneNumber)}},a=JSON.parse(localStorage.getItem("orderInfo")),r="order".concat(t);a[r]=n,localStorage.setItem("orderInfo",JSON.stringify(a)),this.isPopupOpen=!1,this.$router.push({path:"/"})}}},R=L,H=(i("d3ac"),Object(c["a"])(R,_,h,!1,null,"51f99a72",null)),Y=H.exports,J=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"main",staticClass:"timetable__wrapper"},[i("MainHeader",{attrs:{filterType:"allTime"}}),t._l(t.dates,(function(e,s){return i("div",{key:s,staticClass:"content"},[i("DateHeader",{attrs:{date:e,buttonNeeded:!1}}),i("Timetable",{attrs:{id:s,date:e,infoAboutDay:t.infoAboutDay[s]}})],1)}))],2)},U=[],B=i("ade3"),F=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"timetable",style:t.isAvaiable?"":"pointer-events: none",attrs:{id:t.id}},[t.getLen||t.show?i("div",{staticClass:"backdrop",on:{click:t.closePopup}}):t._e(),i("div",{staticClass:"container",class:t.getLen?"active":""},[i("div",{staticClass:"timetable__content",class:t.getLen?"active":""},[t.isToday?i("div",{staticClass:"redLine",style:t.moveRedLine()}):t._e(),i("div",{staticClass:"timetable__fields"},[i("div",{staticClass:"timetable__field empty"}),t._l(t.facility.fields,(function(e){return i("div",{key:e.id,staticClass:"timetable__field"},[t._v(" "+t._s(e.id)+" ")])}))],2),i("div",{staticClass:"timetable__time__cells"},[i("div",{staticClass:"timetable__timeline"},t._l(t.timelines,(function(e,s){return i("div",{key:s,staticClass:"timetable__time"},[i("p",[t._v(t._s(e))])])})),0),t._l(t.facility.fields,(function(e){return i("div",{key:e.id,staticClass:"timetable__cells"},t._l(t.timelines.slice(0,-1),(function(s,n){return i("Cell",{key:n,class:{selected:t.selectedCells.indexOf(e.id+"_"+n)>=0,blocked:!t.isAvaiable},style:t.timelineStyles[e.id][n],attrs:{value:t.isEmpty?"":t.cellValues[e.id][n]},on:{makeOrder:function(i){return t.makeOrder(n,e.id)},showInfoAboutOrder:function(i){return t.showOrderInfo(n,e.id)}}})})),1)}))],2)])]),t.selectedCells.length&&!t.show?i("OrderPopup",{attrs:{orderInfo:this.orderInfo},on:{closePopup:function(e){return t.closePopup()}}}):t._e(),t.show?i("OrderInfoPopup",{attrs:{info:t.infoToShow}}):t._e()],1)},q=[],V=(i("99af"),i("a4d3"),i("e01a"),i("d81d"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"popup"},[i("div",{staticClass:"popup__inner"},[i("div",{staticClass:"popup__order"},[t._m(0),i("div",{staticClass:"order__duration__wrapper"},[i("p",{staticClass:"order__duration"},[t._v(t._s(t.getDuration))])]),i("div",{staticClass:"close__popup",on:{click:t.closePopup}},[i("div",{staticClass:"close__button"})])]),i("div",{staticClass:"popup__orderDescription"},[i("div",{staticClass:"order__desription"},[i("p",{staticClass:"order__date"},[t._v(t._s(t.orderInfo.date.format("DD MMM, dd")))]),i("p",{staticClass:"order__time"},[t._v(t._s(t.orderInfo.startTime)+" - "+t._s(t.orderInfo.endTime))]),i("p",{staticClass:"order__cost"},[t._v(t._s(t.orderInfo.cost)+" тг")])]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.orderType,expression:"orderType"}],staticClass:"order__type",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.orderType=e.target.multiple?i:i[0]}}},t._l(t.types,(function(e,s){return i("option",{key:s},[t._v(t._s(e))])})),0)]),i("div",{staticClass:"continue__order"},[i("button",{staticClass:"continue__button",on:{click:function(e){return t.continueOrder()}}},[t._v("Продолжить")])])])])}),z=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"new__order__wrapper"},[i("p",{staticClass:"new__order"},[t._v("Новый заказ")])])}],G={props:["orderInfo"],data:function(){return{types:["Разовая бронь","Долгосрочная бронь"],orderType:"Разовая бронь"}},methods:{closePopup:function(){this.$emit("closePopup")},continueOrder:function(){var t="";"Разовая бронь"===this.orderType?t="one":"Долгосрочная бронь"===this.orderType&&(t="long"),this.$router.push({name:"order",params:{info:{date:this.orderInfo.date,checked:t,time:"".concat(this.orderInfo.startTime,"-").concat(this.orderInfo.endTime),field:this.orderInfo.field,description:this.orderInfo.description,duration:this.getDuration,cost:this.orderInfo.cost}}})}},computed:{getDuration:function(){var t=this.orderInfo.duration*this.orderInfo.durationRange,e=Math.floor(t/60),i=t%60;return"".concat(e," ч ").concat(i," мин")}}},K=G,Q=(i("d3bc"),Object(c["a"])(K,V,z,!1,null,"5d4342ae",null)),W=Q.exports,X=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"timetable__cell",class:{reserved:t.isReserved},on:{click:function(e){return t.handleClick()}}},[t._v(" "+t._s(t.value)+" ")])},Z=[],tt={data:function(){return{isReserved:"number"!==typeof this.value}},props:["field","index","value"],methods:{handleClick:function(){this.isReserved?this.$emit("showInfoAboutOrder"):this.$emit("makeOrder")}}},et=tt,it=(i("82e2"),Object(c["a"])(et,X,Z,!1,null,"3afbec7c",null)),st=it.exports,nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"orderInfo__popup"},[i("div",{staticClass:"orderInfo__inner"},[i("div",{staticClass:"orderInfo__top"},[i("div",{staticClass:"orderInfo__left"},[i("div",{staticClass:"order__number"},[t._v(" Заказ №"+t._s(t.info.orderId)+" ")]),i("div",{staticClass:"order__remain"},[t._v(" Осталось броней ")])]),i("div",{staticClass:"orderInfo__right"},[i("div",{staticClass:"clientInfo"},[i("div",{staticClass:"client__photo"}),i("div",{staticClass:"client__name"},[t._v(" "+t._s(t.info.clientInf.client_name)+" ")])])])]),i("div",{staticClass:"orderInfo__content"},[i("div",{staticClass:"orderInfo__details margin-bottom"},[i("div",{staticClass:"orderInfo__key"},[t._v(" Детали: "+t._s(t.info.bookingInf.start_time)+"-"+t._s(t.info.bookingInf.end_time)+", Площадка "+t._s(t.info.bookingInf.field_id)+" ")]),i("div",{staticClass:"orderInfo__value"})]),t._m(0),t._m(1),t._m(2),t._m(3),t._m(4),i("div",{staticClass:"orderInfo__button"},[t._v(" Перейти к брони ")])])])])},at=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"orderInfo__cost margin-bottom"},[i("div",{staticClass:"orderInfo__key"},[t._v(" Общая сумма: ")]),i("div",{staticClass:"orderInfo__value"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"orderInfo__payType margin-bottom"},[i("div",{staticClass:"orderInfo__key"},[t._v(" Способ оплаты: ")]),i("div",{staticClass:"orderInfo__value"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"orderInfo__paid margin-bottom"},[i("div",{staticClass:"orderInfo__key"},[t._v(" Оплачено: ")]),i("div",{staticClass:"orderInfo__value"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"orderInfo_discount margin-bottom"},[i("div",{staticClass:"orderInfo__key"},[t._v(" Скидка: ")]),i("div",{staticClass:"orderInfo__value"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"orderInfo__payRemain margin-bottom"},[i("div",{staticClass:"orderInfo__key"},[t._v(" Остаток: ")]),i("div",{staticClass:"orderInfo__value"})])}],rt={props:["info"]},ot=rt,ct=(i("d1d6"),Object(c["a"])(ot,nt,at,!1,null,"4137ed50",null)),lt=ct.exports,dt=i("5a0c"),ft=i.n(dt),ut=(i("276b"),{components:{OrderPopup:W,Cell:st,OrderInfoPopup:lt},props:["id","date","infoAboutDay","buttonNeeded"],data:function(){return{timelines:[],firstSelected:null,selectedCells:[],orderInfo:{description:"",date:this.date,duration:30,durationRange:1},today:dt(),timelineStyles:{},cellValues:{},leftScroll:0,facility:JSON.parse(localStorage.getItem("facility")),show:!1,orders:JSON.parse(localStorage.getItem("orderInfo")),infoToShow:{}}},created:function(){this.generateTime(),this.disableTime(),this.getPrice(),this.getOrders(),this.isToday&&this.moveRedLine()},methods:{generateTime:function(){for(var t=5;t<29;t++){var e=t%24,i=e<10?"0".concat(e):"".concat(e);this.timelines.push("".concat(i,":00")),this.timelines.push("".concat(i,":30"))}this.timelines.push(this.timelines[0])},makeOrder:function(t,e){if(this.moveTableToCenter(),this.firstSelected)if(e===this.firstSelected.fieldId)if(this.firstSelected.cellId===t)this.selectedCells=[],this.firstSelected=null;else{var i=Math.min(this.firstSelected.cellId,t),s=Math.max(this.firstSelected.cellId,t);for(this.setOrderInfo(i,e,s);i<=s;i++)this.selectedCells.push("".concat(e,"_").concat(i));this.firstSelected=null}else this.setOrderInfo(t,e),this.firstSelected={fieldId:e,cellId:t},this.selectedCells=[],this.selectedCells.push("".concat(e,"_").concat(t));else this.selectedCells=[],this.selectedCells.push("".concat(e,"_").concat(t)),this.firstSelected={fieldId:e,cellId:t},this.setOrderInfo(t,e)},setOrderInfo:function(t,e){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,s=0,n=t;n<i+1;n++)s+=this.cellValues[e][n];this.orderInfo=Object(f["a"])(Object(f["a"])({},this.orderInfo),{},{description:this.facility.fields[Object.keys(this.facility.fields)[e-1]].description,field:e,cost:s,startTime:this.timelines[t],endTime:this.timelines[i+1],durationRange:i-t+1})},closePopup:function(){this.selectedCells=[],this.orderInfo={description:"",date:this.date,duration:30,durationRange:1},this.firstSelected=null,this.show=!1},moveRedLine:function(){for(var t,e=49,i=1,s=62,n="".concat(dt().format("HH"),":").concat(dt().minute()<30?"00":"30"),a=0;a<this.timelines.length;a++)if(n===this.timelines[a]){t=a;break}var r=s+Math.floor(e/2)+(e+i)*t;return this.leftScroll=r,"left:".concat(r,"px")},moveTableToCenter:function(){document.getElementById(this.id).scrollIntoView({behavior:"smooth",block:"center"})},disableTime:function(){for(var t in this.facility.fields){for(var e=[],i=this.infoAboutDay[t],s=this.timelines.indexOf(i.start_time)<0?0:this.timelines.indexOf(i.start_time),n=this.timelines.indexOf(i.end_time)<0?this.timelines.length:this.timelines.indexOf(i.end_time),a=0;a<this.timelines.length-1;a++)if(s>=n)for(var r=n;r<s;r++)e[r]="pointer-events: none; background: black";else{for(var o=0;o<s;o++)e[o]="pointer-events: none; background: black";for(var c=n;c<this.timelines.length;c++)e[c]="pointer-events: none; background: black"}this.timelineStyles[this.facility.fields[t].id]=e}},getPrice:function(){var t=this;if(this.isAvaiable){var e=function(e){for(var i=Object.keys(t.infoAboutDay[e].price).map((function(e){return t.timelines.indexOf(e)})),s=Object.keys(t.infoAboutDay[e].price).map((function(i){return t.infoAboutDay[e].price[i]})),n=[],a=0;a<i.length-1;a++)for(var r=i[a];r<i[a+1];r++)n[r]=s[a];if(i[i.length-1]>t.timelines.indexOf(t.infoAboutDay[e].end_time)){for(var o=0;o<t.timelines.indexOf(t.infoAboutDay[e].end_time);o++)n[o]=s[s.length-1];for(var c=i[i.length-1];c<t.timelines.length-1;c++)n[c]=s[s.length-1]}else for(var l=i[i.length-1];l<t.timelines.indexOf(t.infoAboutDay[e].end_time);l++)n[l]=s[s.length-1];t.cellValues[t.facility.fields[e].id]=n};for(var i in this.infoAboutDay)e(i)}},getOrders:function(){for(var t in this.orders)for(var e in this.orders[t]["bookings"])if(this.orders[t]["bookings"][e]["date"]===this.date.format("DD-MM-YYYY"))for(var i=this.timelines.indexOf(this.orders[t]["bookings"][e]["end_time"]),s=this.timelines.indexOf(this.orders[t]["bookings"][e]["start_time"]),n=this.orders[t]["bookings"][e]["field_id"],a=s;a<i;a++)this.cellValues[n][a]=this.orders[t].client.client_name},showOrderInfo:function(t,e){for(var i in this.selectedCells=[],this.orders)for(var s in this.orders[i]["bookings"]){var n=this.orders[i]["bookings"][s];if(n.date===this.date.format("DD-MM-YYYY")&&n.field_id===e){var a=this.timelines.indexOf(n.start_time),r=this.timelines.indexOf(n.end_time);t>=a&&t<r&&(this.infoToShow={clientInf:this.orders[i].client,bookingInf:n,orderId:this.orders[i].orderId})}}console.log(this.infoToShow),this.show=!0}},computed:{getLen:function(){return this.selectedCells.length},isAvaiable:function(){return this.date.diff(this.today,"day",!1)>=0},isEmpty:function(){return 0===Object.keys(this.cellValues).length},isToday:function(){return this.date.format("DD MMMM, dd")===this.today.format("DD MMMM, dd")}}}),_t=ut,ht=(i("2a13"),Object(c["a"])(_t,F,q,!1,null,null,null)),pt=ht.exports,vt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mainHeader"},[i("div",{staticClass:"mainHeader__inner"},[i("div",{staticClass:"mainHeader__top"},[i("p",[t._v("Расписание")]),i("div",{staticClass:"mainHeader__filters"},[i("div",{staticClass:"filter__day",class:"oneDay"===t.active?"active":"",on:{click:function(e){return t.setFilter("oneDay")}}},[i("p",[t._v("День")])]),i("div",{staticClass:"filter__allTime",class:"allTime"===t.active?"active":"",on:{click:function(e){return t.setFilter("allTime")}}},[i("p",[t._v("Все время")])])])])])])},mt=[],bt={props:["filterType"],data:function(){return{active:this.filterType,day:dt().locale("ru")}},methods:{setFilter:function(t){this.active=t,"oneDay"===this.active?this.$router.push({path:"/day/"}):"allTime"===this.active&&this.$router.push({path:"/",name:"main"})}}},yt=bt,Ct=(i("7016"),Object(c["a"])(yt,vt,mt,!1,null,"61a2b601",null)),gt=Ct.exports,kt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"timetable__dateline"},[i("div",{staticClass:"timetable__date"},[i("p",{class:t.isToday?"today":""},[t._v(t._s(t.date.format("DD MMMM, dd")))]),t.buttonNeeded?i("div",{staticClass:"changeDate__buttons"},[i("div",{staticClass:"prev__day",on:{click:function(e){return t.handleClick("prev")}}},[i("i",{staticClass:"fas fa-angle-left"})]),i("div",{staticClass:"next__day",on:{click:function(e){return t.handleClick("next")}}},[i("i",{staticClass:"fas fa-angle-right"})])]):t._e()])])},Ot=[],It={props:["date","buttonNeeded"],methods:{handleClick:function(t){this.$emit(t)}},computed:{isToday:function(){return this.date.format("DD MMMM, dd")===ft()().locale("ru").format("DD MMMM, dd")}}},xt=It,Dt=(i("9179"),Object(c["a"])(xt,kt,Ot,!1,null,"3086bca6",null)),wt=Dt.exports,Tt={components:{Timetable:pt,MainHeader:gt,DateHeader:wt},data:function(){return{dates:[],today:dt().locale("ru"),infoAboutDay:[],facility:JSON.parse(localStorage.getItem("facility"))}},created:function(){this.setDate()},mounted:function(){this.scrollToToday()},methods:{setDate:function(){dt["locale"]("ru");var t=dt();t=t.subtract(7,"day");for(var e=0;e<30;e++)this.infoAboutDay.push(this.setInfo(t.day())),this.dates.push(t),t=t.add(1,"day")},setInfo:function(t){var e={};for(var i in this.facility.fields)e=Object(f["a"])(Object(f["a"])({},e),{},Object(B["a"])({},i,this.facility.fields[i].weekdays[t]));return e},scrollToToday:function(){var t=195,e=7;window.scrollTo(0,t*e),window.onbeforeunload=function(){window.scrollTo(0,t*e)}}}},jt=Tt,Mt=(i("1109"),Object(c["a"])(jt,J,U,!1,null,null,null)),St=Mt.exports,$t=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"order__wrapper"},[i("order-header",{scopedSlots:t._u([{key:"orderHeader",fn:function(){return[i("p",{staticClass:"new__order"},[t._v("Новый заказ")]),i("div",{staticClass:"close__order",on:{click:function(e){return t.goBack()}}},[i("i",{staticClass:"fa fa-times-circle",attrs:{"aria-hidden":"true"}})])]},proxy:!0},{key:"headerBottom",fn:function(){return[i("div",{staticClass:"header__bottom"},[i("p",[t._v("Добавление клиента")])])]},proxy:!0}])}),i("order-info",{attrs:{info:t.info}}),i("search-user",{attrs:{info:t.info,disabled:!1}})],1)},Pt=[],At=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"orderInfo"},[i("div",{staticClass:"orderInfo__inner"},[i("div",{staticClass:"orderInfo__info"},[i("div",{staticClass:"order__date flex"},[i("p",{staticClass:"order__type"},[t._v("Разовая бронь")]),i("p",{staticClass:"date__value"},[t._v(t._s(t.info.date.format("DD MMM")))])]),i("div",{staticClass:"order__details flex"},[i("p",{staticClass:"details__key"},[t._v("Детали")]),i("div",{staticClass:"details__value"},[i("p",[t._v(t._s(t.info.time)+", "+t._s(t.info.date.format("dddd")))]),i("p",[t._v(t._s(t.info.duration)+"("+t._s(t.info.cost)+" ₸)")])])]),i("div",{staticClass:"order__field flex"},[i("p",{staticClass:"field__key"},[t._v("Площадка")]),i("p",{staticClass:"field__value"},[t._v("№"+t._s(t.info.field))])]),i("div",{staticClass:"order__cost flex"},[i("p",{staticClass:"cost__key"},[t._v("Общая сумма")]),i("p",{staticClass:"cost__value"},[t._v(t._s(t.info.cost)+" ₸")])]),i("div",{staticClass:"order__discount flex"},[i("p",{staticClass:"discount__key"},[t._v("Скидка")]),i("p",{staticClass:"discount__value"},[t._v(t._s(t.discount)+" ₸")])]),i("div",{staticClass:"order__remainingPaylaod flex"},[i("p",{staticClass:"remainingPayload__key"},[t._v("Остаток")]),i("p",{staticClass:"remaininPayload__value"},[t._v(t._s(t.info.cost-t.discount)+" ₸")])])]),i("div",{staticClass:"discount__button",on:{click:function(e){return t.addDiscount()}}},[t._v(" Добавить скидку ")]),t.discountAdd?i("div",{staticClass:"discount__input"},[i("label",{attrs:{for:"discount"}},[t._v("Пожалуйста, введите сумму скидки")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.discount,expression:"discount"}],attrs:{type:"number",id:"discount",max:"info.cost"},domProps:{value:t.discount},on:{input:function(e){e.target.composing||(t.discount=e.target.value)}}}),i("button",{on:{click:function(e){return t.cancelDiscount()}}},[t._v("Отмена")]),i("button",{on:{click:function(e){t.discountAdd=!1}}},[t._v("Ок")])]):t._e()])])},Nt=[],Et={props:["info"],data:function(){return{discount:0,discountAdd:!1}},methods:{addDiscount:function(){this.discountAdd=!0},cancelDiscount:function(){this.discount=0,this.discountAdd=!1}}},Lt=Et,Rt=(i("83ca"),Object(c["a"])(Lt,At,Nt,!1,null,"8dbf361c",null)),Ht=Rt.exports,Yt={components:{OrderInfo:Ht,SearchUser:E,OrderHeader:C},props:["info"]},Jt=Yt,Ut=(i("9f11"),i("756f")),Bt=i.n(Ut),Ft=Object(c["a"])(Jt,$t,Pt,!1,null,"13a1740e",null);"function"===typeof Bt.a&&Bt()(Ft);var qt=Ft.exports,Vt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"singleDay__main"},[i("MainHeader",{attrs:{filterType:"oneDay"}}),i("div",{staticClass:"content"},[i("DateHeader",{attrs:{date:t.day,buttonNeeded:!0},on:{prev:t.prev,next:t.next}}),i("Timetable",{key:t.day.toString(),attrs:{id:t.id,date:t.day,infoAboutDay:t.setInfo(t.day.day()),facility:t.facility}})],1),i("div",{staticClass:"bookings"},[i("div",{staticClass:"bookings__title"},[i("p",[t._v("Брони: "+t._s(t.bookings.length))])]),t._l(t.bookings,(function(t,e){return i("div",{key:e,staticClass:"bookings__content"},[i("BookingMiniature",{attrs:{info:t}})],1)}))],2)],1)},zt=[],Gt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main__content",class:{fullPay:t.fullPay}},[i("div",{staticClass:"content__inner"},[i("div",{staticClass:"content_top"},[i("div",{staticClass:"contentTop__inner"},[i("div",{staticClass:"content__left"},[i("div",{staticClass:"mini__description"},[i("b",[t._v(t._s(t.info.booking.start_time)+"-"+t._s(t.info.booking.end_time))]),t._v(", Площадка "+t._s(t.info.booking.field_id)+" ")]),t._m(0)]),i("div",{staticClass:"content__right"},[i("div",{staticClass:"client__info"},[t._m(1),i("div",{staticClass:"client__name"},[t._v(" "+t._s(t.info.client.client_name)+" ")])])])])]),t.fullPay?t._e():i("div",{staticClass:"content__bottom"},[i("div",{staticClass:"payload__button"},[t._v(" Добавить оплату ")])])])])},Kt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"info__payload"},[i("div",{staticClass:"payload__type"},[t._v(" По реквизитам ")]),i("div",{staticClass:"payload__remain"},[t._v(" Остаток: тг ")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"client__photo"},[i("img",{attrs:{src:"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fpbs.twimg.com%2Fprofile_images%2F537699494%2FBartSimpson.jpg&f=1&nofb=1",alt:""}})])}],Qt={props:["info"],computed:{fullPay:function(){return!0}}},Wt=Qt,Xt=(i("bf52"),Object(c["a"])(Wt,Gt,Kt,!1,null,"092c7994",null)),Zt=Xt.exports,te={data:function(){return{facility:JSON.parse(localStorage.getItem("facility")),day:ft()().locale("ru"),id:7,bookings:[],orders:JSON.parse(localStorage.getItem("orderInfo"))}},beforeUpdate:function(){this.getDailyOrders()},methods:{setInfo:function(t){var e={};for(var i in this.facility.fields)e=Object(f["a"])(Object(f["a"])({},e),{},Object(B["a"])({},i,this.facility.fields[i].weekdays[t]));return e},getDailyOrders:function(){for(var t in this.bookings=[],this.orders)for(var e in this.orders[t]["bookings"])this.orders[t]["bookings"][e].date===this.day.format("DD-MM-YYYY")&&this.bookings.push({booking:this.orders[t]["bookings"][e],client:this.orders[t]["client"]})},prev:function(){this.day=this.day.subtract(1,"day"),this.id-=1},next:function(){this.day=this.day.add(1,"day"),this.id+=1}},components:{Timetable:pt,MainHeader:gt,DateHeader:wt,BookingMiniature:Zt}},ee=te,ie=(i("48fd"),Object(c["a"])(ee,Vt,zt,!1,null,"0fa6b7e8",null)),se=ie.exports,ne=new u["a"]({routes:[{name:"registerUser",path:"/register",component:Y,props:function(t){return Object(f["a"])({},t.params)}},{path:"/order",name:"order",component:qt,props:function(t){return Object(f["a"])({},t.params)}},{path:"/day/",component:se},{path:"/",name:"main",component:St}]}),ae=ne,re=i("1dce"),oe=i.n(re);s["a"].config.productionTip=!1,s["a"].use(u["a"]),s["a"].use(oe.a),new s["a"]({render:function(t){return t(d)},router:ae}).$mount("#app")},7016:function(t,e,i){"use strict";i("fbb9")},"74d6":function(t,e,i){},"756f":function(t,e){},"82b8":function(t,e,i){},"82e2":function(t,e,i){"use strict";i("82b8")},"83ca":function(t,e,i){"use strict";i("5338")},"85ec":function(t,e,i){},9179:function(t,e,i){"use strict";i("4268")},"97fd":function(t,e,i){},"9aa9":function(t,e,i){"use strict";i("4acc")},"9f11":function(t,e,i){"use strict";i("4480")},ab65:function(t,e,i){"use strict";i("4dbd")},ae3f:function(t,e,i){},bf52:function(t,e,i){"use strict";i("2574")},d1d6:function(t,e,i){"use strict";i("25d1")},d3ac:function(t,e,i){"use strict";i("74d6")},d3bc:function(t,e,i){"use strict";i("3306")},d870:function(t,e,i){},df84:function(t,e,i){},fbb9:function(t,e,i){}});
//# sourceMappingURL=app.dbd1209f.js.map